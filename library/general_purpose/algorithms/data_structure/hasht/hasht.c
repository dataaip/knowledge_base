#include <stdio.h>

/* 
一、哈希表（Hash Table）是一种高效的数据结构，用于存储键值对（Key-Value Pairs），支持快速的插入、删除和查找操作。其核心思想是通过哈希函数将键（Key）映射到数组的特定位置（索引），从而实现近似常数时间复杂度的操作

二、核心概念
（1）键值对（Key-Value Pair）：每个数据项包含键（Key）和对应的值（Value），键是唯一的标识符，值是与键关联的数据
（2）哈希函数（Hash Function）：将键转换为数组索引的函数，理想情况下，哈希函数应满足：均匀性：键尽可能均匀分布到数组中、确定性：同一键始终映射到同一索引、高效性：计算速度快
（3）哈希冲突（Hash Collision）：不同键通过哈希函数计算得到相同索引的情况，冲突处理是哈希表设计的关键

三、哈希冲突解决方法
（1）链地址法（Separate Chaining）：数组 + 链表 组合结构
 - 每个数组位置（桶）维护一个链表，所有哈希到同一位置的键值对存储在链表中
 - 优点：实现简单，负载因子容忍度高
 - 缺点：链表过长时性能下降（可优化为红黑树，如Java HashMap）
 - 时间复杂度：平均O(1)，最坏O(n)（链表退化）

（2）开放寻址法（Open Addressing）
 - 当冲突发生时，按探测策略（Probing Sequence）寻找下一个空闲位置
 - 常见探测策略：线性探测：依次检查索引+1、+2、+3...、二次探测：检查索引+1²、+2²、+3²...、双重哈希：使用第二个哈希函数计算步长
 - 优点：无需额外数据结构，内存紧凑
 - 缺点：负载因子需较低（通常≤0.7），删除操作复杂
 - 时间复杂度**：平均O(1)，最坏O(n)（聚集效应）

（3）其他方法  
 - 再哈希（Rehashing）：使用多个哈希函数
 - 公共溢出区（Overflow Area）：将冲突元素存放到独立区域

四、哈希表性能指标
（1）负载因子（Load Factor） 
 - 定义为表中已存元素数 / 哈希表容量。负载因子越高，冲突概率越大
 - 扩容阈值：通常为0.7~0.8，超过时触发扩容（如Java HashMap默认0.75）

（2）时间复杂度  
 - 平均情况 插入： O(1)、删除： O(1)、查找： O(1)  
 - 最坏情况 插入： O(n)、删除： O(n)、查找： O(n)  

五、哈希函数设计 
（1）常见哈希函数
 - 除法哈希法：`h(key) = key % size`（需选择size为质数）
 - 乘法哈希法：`h(key) = floor(size * ((key * A) % 1))`（A为黄金比例0.618）
 - 多项式哈希（字符串）：`h(s) = s[0] * a^(n-1) + s[1] * a^(n-2) + ... + s[n-1]`
 - MD5、SHA-1：用于密码学安全场景

（2）设计原则  
 - 减少冲突概率
 - 避免哈希值分布与键的分布规律相关
 - 考虑键的类型（整数、字符串、对象等）

六、动态扩容（Rehashing）当负载因子超过阈值时，哈希表需扩容并重新插入所有元素：
（1）扩容策略：通常容量扩大为原来的2倍（如Java HashMap）或选择下一个质数
（2）渐进式扩容：分批迁移数据，避免单次扩容耗时过长（如Redis的哈希表） 

七、应用场景
（1）数据库索引：快速定位记录
（2）缓存系统（如 Redis、Memcached）：键值存储
（3）集合类型（如 Python字典、Java HashMap）
（4）唯一性检查：检测重复元素
（5）对象属性存储（如 JavaScript对象）

八、优缺点
（1）优点  
 - 平均O(1)的插入、删除、查找速度
 - 灵活适应动态数据

（2）缺点
 - 哈希冲突可能影响性能
 - 内存占用较高（需预留空间）
 - 遍历顺序不确定（某些实现如LinkedHashMap支持有序遍历） 

九、优化与扩展
（1）红黑树优化：Java 8 后，HashMap 在链表长度>8时转为红黑树，将最坏情况从O(n)优化为O(log n)
（2）一致性哈希：用于分布式系统，均匀分配数据节点
（3）布隆过滤器（Bloom Filter）：基于哈希的概率数据结构，用于快速判断元素是否存在

十、总结
哈希表通过巧妙的哈希函数和冲突处理机制，在大多数场景下提供了接近常数时间的操作效率，是现代软件开发中最常用的数据结构之一。其设计需权衡哈希函数质量、冲突策略、负载因子和内存消耗，合理选择参数可实现高性能存储与检索 
*/

// 哈希表初始大小

// 哈希表链表节点结构

// 哈希表数组结构

// 哈希函数

// 创建、销毁

// 增、删、改、查