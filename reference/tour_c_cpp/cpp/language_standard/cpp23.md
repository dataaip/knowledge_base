# C++23 æ ‡å‡†

æ¥æºï¼šcppreference.com < cpp

## æ ‡å‡†æ¦‚è§ˆ

C++23 æ˜¯å½“å‰çš„ C++ æ ‡å‡†ä¿®è®¢ç‰ˆã€‚

### C++ è¯­è¨€ç‰ˆæœ¬æ¼”è¿›

| ç‰ˆæœ¬ | å‘å¸ƒå¹´ä»½ | ä¸»è¦ç‰¹ç‚¹ |
|---|---|---|
| C++98 | 1998 | ç¬¬ä¸€ä¸ªæ­£å¼æ ‡å‡† |
| C++03 | 2003 | å¯¹ C++98 çš„å°å¹…ä¿®è®¢ |
| C++11 | 2011 | å¼•å…¥è‡ªåŠ¨ç±»å‹æ¨å¯¼ã€ç§»åŠ¨è¯­ä¹‰ã€lambda è¡¨è¾¾å¼ã€æ™ºèƒ½æŒ‡é’ˆç­‰ |
| C++14 | 2014 | å¯¹ C++11 çš„å°å¹…ä¿®è®¢ï¼Œå¢å¼ºæ³›å‹ç¼–ç¨‹ |
| C++17 | 2017 | ç»“æ„åŒ–ç»‘å®šã€`if constexpr`ã€æ–‡ä»¶ç³»ç»Ÿåº“ç­‰ |
| C++20 | 2020 | æ¦‚å¿µã€æ¨¡å—ã€åç¨‹ã€èŒƒå›´ç­‰ |
| **C++23** | **å¼€å‘ä¸­** | **æ ‡å‡†åŒ–äº†æ›´å¤šç°ä»£ C++ å®è·µ** |
| C++26 | å¼€å‘ä¸­ | ä¸‹ä¸€ä¸ªä¸»è¦ç‰ˆæœ¬ |

> **æ³¨æ„**ï¼šC++23 æ˜¯ä¸€ä¸ªæŒç»­å‘å±•çš„æ ‡å‡†ï¼Œä¸“æ³¨äºå®Œå–„å’Œå¢å¼ºç°æœ‰ç‰¹æ€§ï¼Œå¹¶å¼•å…¥ä¸€äº›æ–°çš„å®ç”¨åŠŸèƒ½ã€‚

## æ–°å¢æ ¸å¿ƒè¯­è¨€ç‰¹æ€§

### æ–°çš„è¯­è¨€ç‰¹æ€§æµ‹è¯•å®

- **è¯´æ˜**ï¼šä¸º C++23 çš„æ–°ç‰¹æ€§æä¾›æ ‡å‡†åŒ–çš„ç‰¹æ€§æµ‹è¯•å®ã€‚

### æ˜¾å¼å¯¹è±¡å‚æ•°å’Œæ˜¾å¼å¯¹è±¡æˆå‘˜å‡½æ•°ï¼ˆ"deducing this"ï¼‰ (P0847R7)

- **è¯´æ˜**ï¼šå…è®¸åœ¨æˆå‘˜å‡½æ•°ä¸­æ˜¾å¼å£°æ˜ `this` å‚æ•°çš„ç±»å‹ï¼Œä»è€Œå®ç°æ›´çµæ´»çš„é€šç”¨ç¼–ç¨‹ï¼Œç‰¹åˆ«æ˜¯ä¸ CRTP å’Œæ··å…¥ (mixin) ä¸€èµ·ä½¿ç”¨ã€‚
- **è¯­æ³•**ï¼š`void func(this const Self& self, ...)`ã€‚`Self` å¯ä»¥æ˜¯å…·ä½“çš„ç±»åæˆ–æ¨¡æ¿å‚æ•°ã€‚
- **ç¤ºä¾‹**ï¼š
  ```cpp
  template<typename T>
  class Mixin {
  public:
      void interface(this const T& self) {
          self.implementation(); // è°ƒç”¨æ´¾ç”Ÿç±»çš„å®ç°
      }
  };
  struct MyClass : Mixin<MyClass> {
      void implementation() { /* ... */ }
  };
  ```

### å¤šç»´ä¸‹æ ‡è¿ç®—ç¬¦ (`Multidimensional subscript operator`) (P2128R6)

- **è¯´æ˜**ï¼šå…è®¸é‡è½½ `operator[]` ä»¥æ¥å—å¤šä¸ªå‚æ•°ï¼Œæ¨¡æ‹Ÿå¤šç»´æ•°ç»„çš„è®¿é—®ã€‚
- **ç¤ºä¾‹**ï¼š
  ```cpp
  class Matrix {
  public:
      double& operator[](std::size_t row, std::size_t col) {
          return data_[row * cols_ + col];
      }
  private:
      std::vector<double> data_;
      std::size_t rows_, cols_;
  };

  Matrix m(3, 4);
  m[1, 2] = 3.14; // è°ƒç”¨ operator[](1, 2)
  ```

### é™æ€ `operator[]`, `operator()` å’Œé™æ€ Lambda (P2589R1, P1169R4)

- **è¯´æ˜**ï¼šå…è®¸å°† `operator[]` å’Œ `operator()` å£°æ˜ä¸º `static`ï¼Œä½¿å…¶è¡Œä¸ºç±»ä¼¼äºè‡ªç”±å‡½æ•°ï¼Œä½†å¯ä»¥é€šè¿‡å¯¹è±¡è°ƒç”¨ã€‚é™æ€ Lambda ä¹Ÿæ˜¯è¿™ä¸€æ¦‚å¿µçš„ä¸€éƒ¨åˆ†ã€‚
- **ç”¨é€”**ï¼šæä¾›æ›´æ¸…æ™°çš„è¯­æ³•å’Œæ½œåœ¨çš„æ€§èƒ½ä¼˜åŒ–ã€‚

### `auto(x)` å’Œ `auto{x}`ï¼šè¯­è¨€ä¸­çš„è¡°å˜æ‹·è´ (P0849R8)

- **è¯´æ˜**ï¼š
  - `auto(x)`: åˆ›å»º `x` çš„è¡°å˜æ‹·è´ï¼ˆdecayed copyï¼‰ï¼Œç›¸å½“äº `std::decay_t<decltype(x)>(x)`ã€‚
  - `auto{x}`: åˆ›å»º `x` çš„æ‹·è´ï¼Œä½†ä¸ä¼šè¡°å˜ï¼ˆæ•°ç»„ä¸è½¬æŒ‡é’ˆï¼Œå‡½æ•°ä¸è½¬æŒ‡é’ˆï¼‰ï¼Œç›¸å½“äºç›´æ¥åˆå§‹åŒ–ã€‚
- **ç¤ºä¾‹**ï¼š
  ```cpp
  int arr[5] = {1,2,3,4,5};
  auto a1 = arr;     // ç±»å‹æ˜¯ int*
  auto a2 = auto(arr); // ç±»å‹æ˜¯ int*
  auto a3 = auto{arr}; // ç±»å‹æ˜¯ int[5] (åœ¨åˆå§‹åŒ–ä¸Šä¸‹æ–‡ä¸­å¯èƒ½é€€åŒ–)
  ```

### é€šè¿‡æ–°å±æ€§ `[[assume(expression)]]` è¿›è¡Œå‡è®¾ (P1774R8)

- **è¯´æ˜**ï¼šå‘ç¼–è¯‘å™¨æä¾›ä¸€ä¸ªè¡¨è¾¾å¼åœ¨è¿è¡Œæ—¶å¿…å®šä¸ºçœŸçš„å‡è®¾ã€‚å¦‚æœå‡è®¾ä¸æˆç«‹ï¼Œè¡Œä¸ºæ˜¯æœªå®šä¹‰çš„ã€‚ç¼–è¯‘å™¨å¯ä»¥åˆ©ç”¨æ­¤ä¿¡æ¯è¿›è¡Œä¼˜åŒ–ã€‚
- **ç¤ºä¾‹**ï¼š
  ```cpp
  void func(int* ptr, size_t size) {
      [[assume(ptr != nullptr)]];
      [[assume(size > 0)]];
      // ç¼–è¯‘å™¨å¯ä»¥å‡è®¾ ptr ä¸ä¸ºç©ºä¸” size > 0
  }
  ```

### Lambda è¡¨è¾¾å¼ä¸Šçš„å±æ€§ (P2173R1)

- **è¯´æ˜**ï¼šå…è®¸ä¸º Lambda è¡¨è¾¾å¼æœ¬èº«æ·»åŠ å±æ€§ã€‚
- **ç¤ºä¾‹**ï¼š
  ```cpp
  auto lambda = []() [[nodiscard]] { return 42; };
  ```

### å¯é€‰çš„æ‰©å±•æµ®ç‚¹ç±»å‹ (P1467R9)

- **è¯´æ˜**ï¼šæ ‡å‡†å®šä¹‰äº† `std::float16_t`, `std::float32_t`, `std::float64_t`, `std::float128_t`, `std::bfloat16_t` ç­‰ç±»å‹ï¼Œä½†å®ƒä»¬çš„å¯ç”¨æ€§æ˜¯å¯é€‰çš„ï¼Œå–å†³äºå®ç°ã€‚

### æ–°çš„é¢„å¤„ç†æŒ‡ä»¤ï¼š`#elifdef`, `#elifndef`, `#warning` (P2334R1, P2437R1)

- **`#elifdef` / `#elifndef`**ï¼š
  - **è¯´æ˜**ï¼š`#elif defined(...)` å’Œ `#elif !defined(...)` çš„ç®€åŒ–å†™æ³•ã€‚
  - **ç¤ºä¾‹**ï¼š
    ```cpp
    #if defined(MACRO_A)
    // ...
    #elifdef MACRO_B // ç­‰ä»·äº #elif defined(MACRO_B)
    // ...
    #endif
    ```
- **`#warning`**ï¼š
  - **è¯´æ˜**ï¼šåœ¨ç¼–è¯‘æ—¶ç”Ÿæˆè­¦å‘Šä¿¡æ¯ã€‚
  - **ç¤ºä¾‹**ï¼š
    ```cpp
    #if COMPILER_VERSION < 5
    #warning "Using an old compiler, performance may be affected."
    #endif
    ```

### å­—é¢é‡åç¼€ '`Z`'/'`z`' ç”¨äº `(signed) std::size_t` å­—é¢é‡ (P0330R8)

- **è¯´æ˜**ï¼šåˆ›å»º `std::size_t` æˆ– `std::ptrdiff_t` ç±»å‹çš„å­—é¢é‡ã€‚
- **ç¤ºä¾‹**ï¼š
  ```cpp
  auto sz = 100uz; // ç±»å‹æ˜¯ std::size_t
  auto diff = -5z; // ç±»å‹æ˜¯ std::ptrdiff_t
  ```

### è¡Œæ‹¼æ¥å‰çš„ç©ºç™½å­—ç¬¦ä¿®å‰ª (P2223R2)

- **è¯´æ˜**ï¼šåœ¨é¢„å¤„ç†é˜¶æ®µï¼Œç»­è¡Œç¬¦ `\` ä¹‹å‰çš„ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ï¼‰å°†è¢«å¿½ç•¥ï¼Œä½¿ä»£ç æ ¼å¼æ›´çµæ´»ã€‚

### æ›´ç®€å•çš„éšå¼ç§»åŠ¨ (P2266R3)

- **è¯´æ˜**ï¼šæ”¾å®½äº†è§¦å‘éšå¼ç§»åŠ¨çš„è§„åˆ™ï¼Œä½¿æŸäº›è¿”å›è¯­å¥å’Œ `throw` è¡¨è¾¾å¼æ›´å®¹æ˜“æŒ‰å€¼ç±»åˆ«æ­£ç¡®å¤„ç†ã€‚

### æ‰©å±• range-based for å¾ªç¯åˆå§‹åŒ–å™¨ä¸­ä¸´æ—¶å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ (P2718R0)

- **è¯´æ˜**ï¼šåœ¨ range-based for å¾ªç¯çš„åˆå§‹åŒ–å™¨ä¸­åˆ›å»ºçš„ä¸´æ—¶å¯¹è±¡ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸä¼šå»¶é•¿åˆ°æ•´ä¸ª for å¾ªç¯ç»“æŸã€‚

### ä»ç»§æ‰¿æ„é€ å‡½æ•°è¿›è¡Œ CTAD (P2582R1)

- **è¯´æ˜**ï¼šå…è®¸ç±»æ¨¡æ¿åœ¨ä½¿ç”¨ç»§æ‰¿çš„æ„é€ å‡½æ•°æ—¶è¿›è¡Œæ¨¡æ¿å‚æ•°æ¨å¯¼ (CTAD)ã€‚

### å¤åˆè¯­å¥æœ«å°¾çš„æ ‡ç­¾ (P2324R2)

- **è¯´æ˜**ï¼šå…è®¸æ ‡ç­¾å‡ºç°åœ¨å¤åˆè¯­å¥ï¼ˆå¦‚å‡½æ•°ä½“æˆ–ä»£ç å—ï¼‰çš„æœ«å°¾ã€‚
- **ç¤ºä¾‹**ï¼š
  ```cpp
  void f(int& x) {
      if (x)
          goto END;
      x = 42;
  END: // C++23 åˆæ³•
  }
  ```

### Init-è¯­å¥ä¸­çš„åˆ«åå£°æ˜ (`using`) (P2360R0)

- **è¯´æ˜**ï¼šå…è®¸åœ¨ `for` å¾ªç¯æˆ– `if`/`switch` è¯­å¥çš„åˆå§‹åŒ–éƒ¨åˆ†ä½¿ç”¨ `using` å£°æ˜ã€‚
- **ç¤ºä¾‹**ï¼š
  ```cpp
  for (using T = int; T e : v) {
      /* ... */
  }
  ```

### ä½¿ Lambda è¡¨è¾¾å¼çš„ `()` æ›´å¯é€‰ (P1102R2)

- **è¯´æ˜**ï¼šå¦‚æœ Lambda è¡¨è¾¾å¼æ²¡æœ‰å‚æ•°ï¼Œå¯ä»¥çœç•¥ `()`ã€‚
- **ç¤ºä¾‹**ï¼š
  ```cpp
  auto lambda1 = []() { return 42; }; // C++11
  auto lambda2 = [] { return 42; };   // C++23 ä¹Ÿåˆæ³•
  ```

### `static_assert` å’Œ `if constexpr` ä¸­å¯¹ `bool` çš„çª„åŒ–ä¸Šä¸‹æ–‡è½¬æ¢ (P1401R5)

- **è¯´æ˜**ï¼šåœ¨ `static_assert` çš„æ¡ä»¶å’Œ `if constexpr` çš„æ¡ä»¶ä¸­ï¼Œå…è®¸å°†æ•´å‹å€¼çª„åŒ–è½¬æ¢ä¸º `bool`ï¼ˆä¾‹å¦‚ `static_assert(1);`ï¼‰ã€‚

### å¼ºåˆ¶éé™æ€ç±»æ•°æ®æˆå‘˜çš„å£°æ˜é¡ºåºå¸ƒå±€ (P1847R4)

- **è¯´æ˜**ï¼šæ ‡å‡†ç°åœ¨è¦æ±‚ç¼–è¯‘å™¨å¿…é¡»æŒ‰ç…§ç±»ä¸­å£°æ˜çš„é¡ºåºåœ¨å†…å­˜ä¸­å¸ƒå±€éé™æ€æ•°æ®æˆå‘˜ï¼Œé™¤éæœ‰ç‰¹å®šçš„ä¼˜åŒ–ï¼ˆå¦‚ EBOï¼‰ã€‚

### æ–‡æœ¬ç¼–ç æ›´æ”¹

- **å­—ç¬¦é›†å’Œç¼–ç  (P2314R4)**
- **ä¸€è‡´çš„å­—ç¬¦å­—é¢é‡ç¼–ç  (P2316R2)**
- **å‘½åçš„é€šç”¨å­—ç¬¦è½¬ä¹‰ï¼Œå¦‚ `"\N{CAT FACE}"` è¡¨ç¤º `"ğŸ±"` (P2071R2)**
- **å¸¦åˆ†éš”ç¬¦çš„è½¬ä¹‰åºåˆ—ï¼Œå¦‚ `"\o{7777}", "\x{C0DE}", "\u{CAFE}"` (P2290R3)**
- **æ”¯æŒ UTF-8 ä½œä¸ºå¯ç§»æ¤çš„æºæ–‡ä»¶ç¼–ç  (P2295R6)**

### `if consteval` / `if not consteval` (P1938R3)

- **è¯´æ˜**ï¼šåœ¨ `if` è¯­å¥ä¸­æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡æ˜¯å¦å¤„äºå¸¸é‡æ±‚å€¼ (`constexpr`) ä¸­ã€‚
- **ç¤ºä¾‹**ï¼š
  ```cpp
  consteval int f(int i) {
      if consteval {
          return i * 2; // ç¼–è¯‘æ—¶å¸¸é‡ä¸Šä¸‹æ–‡
      } else {
          return i + 1; // è¿™éƒ¨åˆ†ä»£ç æ°¸è¿œä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºå‡½æ•°æ˜¯ consteval
      }
  }

  constexpr int g(int i) {
      if consteval {
          return i * 2; // ç¼–è¯‘æ—¶
      } else {
          return i + 1; // è¿è¡Œæ—¶
      }
  }
  ```

### `constexpr` æ›´æ”¹

- **å…è®¸ `constexpr` å‡½æ•°ä¸­æœ‰éå­—é¢é‡å˜é‡ã€æ ‡ç­¾å’Œ `goto` (P2242R3)**
- **å…è®¸ `constexpr` å‡½æ•°ä¸­æœ‰ `static` å’Œ `thread_local` å˜é‡ (P2647R1)**
- **`constexpr` å‡½æ•°ä¸å†è¦æ±‚å…¶è¿”å›ç±»å‹å’Œå‚æ•°ç±»å‹å¿…é¡»æ˜¯å­—é¢é‡ç±»å‹ (P2448R2)**

## æ–°å¢æ ‡å‡†åº“ç‰¹æ€§

### æ–°çš„åº“ç‰¹æ€§æµ‹è¯•å®

### æ–°æ¨¡å—

- `std` å’Œ `std.compat` (P2465R3)

### æ–°å¤´æ–‡ä»¶

#### æ ¸å¿ƒåŠŸèƒ½

- `<expected>`ï¼š`std::expected` ç±»å‹ï¼Œç”¨äºè¿”å›å‡½æ•°ç»“æœæˆ–é”™è¯¯ã€‚
- `<flat_map>`ï¼šæ‰å¹³æ˜ å°„å®¹å™¨ã€‚
- `<flat_set>`ï¼šæ‰å¹³é›†åˆå®¹å™¨ã€‚
- `<generator>`ï¼šåŒæ­¥åç¨‹ç”Ÿæˆå™¨ã€‚
- `<mdspan>`ï¼šéæ‹¥æœ‰çš„å¤šç»´æ•°ç»„å¼•ç”¨ã€‚
- `<print>`ï¼šæ ¼å¼åŒ–è¾“å‡ºå‡½æ•° `std::print` å’Œ `std::println`ã€‚
- `<spanstream>`ï¼šåŸºäº `std::span` çš„å­—ç¬¦ä¸²æµã€‚
- `<stacktrace>`ï¼šå †æ ˆè·Ÿè¸ªåº“ã€‚
- `<stdfloat>`ï¼šæ ‡å‡†æµ®ç‚¹ç±»å‹åˆ«åã€‚

#### C å…¼å®¹æ€§å¤´æ–‡ä»¶

- `<stdatomic.h>`ï¼šC é£æ ¼åŸå­æ“ä½œã€‚

### æ ‡å‡†åº“åŠŸèƒ½å¢å¼º

#### é€šç”¨å·¥å…· (General Utilities)

- `std::expected` (P0323R12, P2549R1)ï¼šè¿”å›å‡½æ•°ç»“æœçš„æ–°è¯æ±‡ç±»å‹ã€‚
- `std::move_only_function` (P0288R9)ï¼šåªç§»åŠ¨çš„å¯è°ƒç”¨åŒ…è£…å™¨ã€‚
- `std::bind_back` (P2387R3)ï¼šè°ƒç”¨åŒ…è£…å™¨ã€‚
- `std::byteswap` (P1272R4)ï¼šåè½¬å­—èŠ‚é¡ºåºã€‚
- `std::forward_like` (P2445R1)ï¼šè½¬å‘å€¼ï¼ŒåŒæ—¶åŒ¹é…å¦ä¸€ä¸ªå€¼çš„å€¼ç±»åˆ«ï¼ˆå·¦å€¼/å³å€¼ï¼‰ã€‚
- `std::invoke_r` (P2136R3)ï¼šè°ƒç”¨å¯è°ƒç”¨å¯¹è±¡å¹¶æŒ‡å®šè¿”å›ç±»å‹ã€‚
- `std::to_underlying` (P1682R3)ï¼šè·å–æšä¸¾çš„åº•å±‚å€¼ã€‚
- `std::unreachable` (P0627R6)ï¼šæ ‡è®°ä¸å¯è¾¾ä»£ç ã€‚
- `std::optional` å’Œ `std::expected` çš„ä¸€å…ƒæ“ä½œ (`transform`, `or_else`, `and_then`) (P0798R8, P2505R5)ã€‚
- `std::tuple` ä¸å…¶ä»–ç±»ä¼¼å…ƒç»„çš„å¯¹è±¡å…¼å®¹ (P2165R4)ã€‚
- ä¸º `std::pair` çš„è½¬å‘æ„é€ å‡½æ•°æ·»åŠ é»˜è®¤å‚æ•° (P2718R0)ã€‚

#### åç¨‹åº“ (Coroutine Library)

- `std::generator` (P2502R2, P2787R0)ï¼šç”¨äºèŒƒå›´çš„åŒæ­¥åç¨‹ç”Ÿæˆå™¨ã€‚

#### è¯Šæ–­ (Diagnostic)

- å †æ ˆè·Ÿè¸ªåº“ (P0881R7)ã€‚

#### ç®—æ³•ã€è¿­ä»£å™¨å’ŒèŒƒå›´ (Algorithm, Iterators, and Ranges)

- **æ–°çš„èŒƒå›´é€‚é…å™¨**ï¼š
  - `views::adjacent` å’Œ `views::adjacent_transform`
  - `views::as_const`
  - `views::as_rvalue`
  - `views::cartesian_product`
  - `views::chunk_by`
  - `views::chunk`
  - `views::enumerate`
  - `views::join_with`
  - `views::repeat`
  - `views::slide`
  - `views::stride`
  - `views::zip`, `views::zip_transform`
- `ranges::range_adaptor_closure`ï¼šç”¨äºç¨‹åºå®šä¹‰èŒƒå›´é€‚é…å™¨é—­åŒ…çš„å¸®åŠ©å‡½æ•°ã€‚
- `ranges::to`ï¼šèŒƒå›´è½¬æ¢å‡½æ•°ã€‚
- **æ–°çš„å—çº¦æŸèŒƒå›´ç®—æ³•**ï¼š
  - `ranges::starts_with` å’Œ `ranges::ends_with`
  - `ranges::contains` å’Œ `ranges::contains_subrange`
  - `ranges::find_last`, `ranges::find_last_if`, `ranges::find_last_if_not`
  - `ranges::iota`, `ranges::shift_left`, `ranges::shift_right` (éçº¦æŸç®—æ³•çš„èŒƒå›´åŒ–ç‰ˆæœ¬)
  - `ranges::fold_left` ç­‰ï¼šèŒƒå›´æŠ˜å ç®—æ³•
- ä¿è¯å¸¸é‡è¿­ä»£å™¨ã€å“¨å…µå’ŒèŒƒå›´çš„æ­£ç¡®æ€§ã€‚
- ä½¿ä¸€äº›è§†å›¾çš„å¤šå‚æ•°æ„é€ å‡½æ•°å˜ä¸ºæ˜¾å¼ (P2711R1)ã€‚
- èŒƒå›´è¿­ä»£å™¨ä½œä¸ºéèŒƒå›´ç®—æ³•çš„è¾“å…¥ (P2408R5)ã€‚
- æ”¾å®½èŒƒå›´é€‚é…å™¨ä»¥å…è®¸ç§»åŠ¨-only ç±»å‹ (P2494R2)ã€‚

#### å®¹å™¨ (Containers)

- `std::mdspan` (P0009R18 ç­‰)ï¼šéæ‹¥æœ‰çš„å¤šç»´æ•°ç»„å¼•ç”¨ã€‚
- ä½¿å®¹å™¨å¯ä»¥ä»å…¶ä»–å…¼å®¹èŒƒå›´æ„é€  (P1206R7)ã€‚
- `std::flat_set`, `std::flat_multiset` (P1222R4), `std::flat_map`, `std::flat_multimap` (P0429R9)ï¼šæ‰å¹³é›†åˆå’Œæ˜ å°„ï¼Œæ˜¯åŒ…è£…åº•å±‚æ’åºéšæœºè®¿é—®å®¹å™¨çš„å®¹å™¨é€‚é…å™¨ã€‚
- å…è®¸åœ¨ `std::stack` å’Œ `std::queue` ä¸­ä½¿ç”¨è¿­ä»£å™¨å¯¹æ„é€  (P1425R4)ã€‚

#### ç¼–è¯‘æ—¶æ”¯æŒ (Compile-time support)

- **`constexpr` æ”¯æŒ**ï¼š
  - `std::bitset`
  - `std::unique_ptr`
  - `std::type_info::operator==`
  - ä¸€äº› `<cmath>` å‡½æ•°
  - `std::to_chars` å’Œ `std::from_chars` çš„æ•´å‹é‡è½½
- **å…ƒç¼–ç¨‹å·¥å…·**ï¼š
  - ä¸ºæ¯”è¾ƒæ¦‚å¿µæ·»åŠ å¯¹ç§»åŠ¨-only ç±»å‹çš„æ”¯æŒ
  - **ç±»å‹ç‰¹å¾**ï¼š
    - `std::is_scoped_enum`
    - `std::is_implicit_lifetime`
    - `std::reference_constructs_from_temporary`, `std::reference_converts_from_temporary`

#### å†…å­˜ç®¡ç† (Memory Management)

- `std::out_ptr` å’Œ `std::inout_ptr`ï¼šç”¨äº C äº’æ“ä½œçš„æ™ºèƒ½æŒ‡é’ˆé€‚é…å™¨ã€‚
- `std::allocate_at_least` å’Œ `std::allocator::allocate_at_least`ã€‚
- `std::start_lifetime_as`ï¼šç”¨äºéšå¼ç”Ÿå‘½å‘¨æœŸç±»å‹çš„æ˜¾å¼ç”Ÿå‘½å‘¨æœŸç®¡ç†å‡½æ•°ã€‚
- ç¦æ­¢ç”¨æˆ·ç‰¹åŒ– `std::allocator_traits`ã€‚

#### å­—ç¬¦ä¸²å’Œæ–‡æœ¬å¤„ç† (String and Text Processing)

- **å­—ç¬¦ä¸²ç±»å‹çš„æ–°æˆå‘˜å‡½æ•°å’Œæ›´æ”¹**ï¼š
  - `std::basic_string::contains` å’Œ `std::basic_string_view::contains`
  - ç¦æ­¢ä» `nullptr` æ„é€  `std::basic_string` å’Œ `std::basic_string_view`
  - `std::basic_string_view` çš„æ˜¾å¼èŒƒå›´æ„é€ å‡½æ•°
  - `std::basic_string::resize_and_overwrite`
- **æ ¼å¼åŒ–**ï¼šèŒƒå›´ã€å…ƒç»„ã€å­—ç¬¦å’Œå­—ç¬¦ä¸²çš„è½¬ä¹‰è¡¨ç¤ºã€`std::thread::id` å’Œå †æ ˆè·Ÿè¸ªçš„æ ¼å¼åŒ–ã€‚

#### I/O å’Œæ‰“å° (I/O and print)

- `<print>` å¤´æ–‡ä»¶ä¸­æä¾›çš„æ ¼å¼åŒ–è¾“å‡ºå‡½æ•° `std::print` å’Œ `std::println`ã€‚
- `<spanstream>` å¤´æ–‡ä»¶ä¸­çš„ `spanstream` åº“ï¼ˆåŸºäº `std::span` çš„å­—ç¬¦ä¸²æµï¼‰ã€‚
- åœ¨ `std::fstream` ä¸­æ”¯æŒç‹¬å æ¨¡å¼ã€‚
- æ”¯æŒæ‰“å° `volatile T*`ã€‚

## å·²åºŸå¼ƒ/ç§»é™¤çš„ç‰¹æ€§

### è¢«ç§»é™¤çš„ç‰¹æ€§ (Removed features)

- **åƒåœ¾å›æ”¶æ”¯æŒå’ŒåŸºäºå¯è¾¾æ€§çš„æ³„æ¼æ£€æµ‹ (P2186R2)**ï¼šC++11 å¼•å…¥ä½†ä»æœªè¢«å¹¿æ³›å®ç°çš„ GC æ¥å£è¢«æ­£å¼ç§»é™¤ã€‚
- **æ··åˆå®½å­—ç¬¦ä¸²å­—é¢é‡è¿æ¥æ”¯æŒ (P2201R1)**ï¼š`const auto* no = u"q" U"p";` è¿™æ ·çš„ä»£ç å˜ä¸ºéæ³•ã€‚
- **ä¸å¯ç¼–ç çš„å®½å­—ç¬¦å­—é¢é‡å’Œå¤šå­—ç¬¦å®½å­—ç¬¦å­—é¢é‡ (P2362R3)**ï¼š`wchar_t x = 'db';` è¿™æ ·çš„ä»£ç å˜ä¸ºéæ³•ã€‚

### è¢«å¼ƒç”¨çš„ç‰¹æ€§ (Deprecated features)

- `std::aligned_storage` å’Œ `std::aligned_union` (P1413R3)ï¼šå®ƒä»¬çš„ä½¿ç”¨è¢«æ ‡è®°ä¸ºä¸å®‰å…¨æˆ–éš¾ä»¥æ­£ç¡®ä½¿ç”¨ã€‚
- `std::numeric_limits::has_denorm` (P2614R2)ï¼šæµ®ç‚¹ç±»å‹æ¬¡æ­£è§„æ•°çš„æŸ¥è¯¢è¢«å¼ƒç”¨ã€‚

### æ¢å¤çš„å¼ƒç”¨ (Reverted deprecations)

- ä¸‹æ ‡è¡¨è¾¾å¼ä¸­çš„é€—å·è¿ç®—ç¬¦ï¼ˆä½†è¯­ä¹‰å·²æ”¹å˜ä»¥æ”¯æŒå¯é‡è½½çš„å¤šç»´ä¸‹æ ‡ `operator[]`ï¼‰ã€‚
- ä¸€äº› C å¤´æ–‡ä»¶ï¼ˆç”¨äºä¸ C å…¼å®¹çš„ `<*.h>` å½¢å¼å¤´æ–‡ä»¶ï¼‰çš„å¼ƒç”¨è¢«æ’¤é”€ã€‚

## ç¼ºé™·æŠ¥å‘Š (Defect Reports)

ï¼ˆæ­¤éƒ¨åˆ†åœ¨åŸæ–‡ä¸­ä¸ºç©ºï¼‰

## ç¼–è¯‘å™¨æ”¯æŒæƒ…å†µ

### C++23 æ ¸å¿ƒè¯­è¨€ç‰¹æ€§æ”¯æŒ

ï¼ˆè¡¨æ ¼å±•ç¤ºäº† GCCã€Clangã€MSVC ç­‰ç¼–è¯‘å™¨å¯¹å„é¡¹ C++23 ç‰¹æ€§çš„æ”¯æŒæƒ…å†µã€‚ï¼‰

### C++23 æ ‡å‡†åº“ç‰¹æ€§æ”¯æŒ

ï¼ˆè¡¨æ ¼å±•ç¤ºäº† GCC libstdc++ã€Clang libc++ã€MSVC STL ç­‰æ ‡å‡†åº“å®ç°å¯¹å„é¡¹ C++23 åº“ç‰¹æ€§çš„æ”¯æŒæƒ…å†µã€‚ï¼‰

---

**ä¿¡æ¯æ¥æº**ï¼š[https://en.cppreference.com/mwiki/index.php?title=cpp/23&oldid=179940](https://en.cppreference.com/mwiki/index.php?title=cpp/23&oldid=179940)

**æœ€åä¿®æ”¹æ—¶é—´**ï¼š2025å¹´1æœˆ28æ—¥ 16:13

**ç¦»çº¿ç‰ˆæœ¬è·å–æ—¶é—´**ï¼š2025å¹´2æœˆ9æ—¥ 16:39
